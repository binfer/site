<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="smoke">
  <meta name="description" content="smoke.mvp">
  <meta name="keywords" content="smoke">
  
  <link rel="prev" href="/blog/go/grpc-go-use-builder/" />
  <link rel="next" href="/blog/other/markdown-style-part/" />
  <link rel="canonical" href="/blog/linux/vim/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Vim | smoke
       
  </title>
  <meta name="title" content="Vim | smoke">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": ""
    },
    "articleSection" : "blog",
    "name" : "Vim",
    "headline" : "Vim",
    "description" : "vim自定义模板 .vimrc\n\x26quot;##### 拷贝后保存为 .vimrc，替换到系统中 \x26quot;============================================================================== \x26quot; 处理 Gnome 终端不能使用 alt 快捷键 \x26quot; 参考：http:\/\/landcareweb.com\/questions\/8623\/altjian-kuai-jie-jian-bu-gua-yong-yu-dai-you-vimde-gnomezhong-duan \x26quot;============================================================================== let c=\x27a\x27 while c \x26lt;= \x27z\x27 exec \x26quot;set \x26lt;A-\x26quot;.c.\x26quot;\x26gt;=\\e\x26quot;.c exec \x26quot;imap \\e\x26quot;.c.\x26quot; \x26lt;A-\x26quot;.c.\x26quot;\x26gt;\x26quot; let c = nr2char(1\x2bchar2nr(c)) endw set timeout ttimeoutlen=50 \x26quot;============================================================================== \x26quot; vim 内置配置 \x26quot;============================================================================== \x26quot; 设置 vimrc 修改保存后立刻生效，不用在重新打开 \x26quot; 建议配置完成后将这个关闭，否则配置多了之后会很卡 \x26quot; autocmd BufWritePost $MYVIMRC source $MYVIMRC \x26quot; 关闭兼容模式 set nocompatible set number \x26quot; 设置绝对行号 set relativenumber \x26quot; 设置相对行号 set cursorline \x26quot;突出显示当前行 \x26quot; set cursorcolumn \x26quot; 突出显示当前列 set showmatch \x26quot; 显示括号匹配 set showcmd \x26quot; 显示未完成命令 set nowrap \x26quot; 设置不自动换行 \x26quot; tab 缩进 set tabstop=4 \x26quot; 设置Tab长度为4空格 set shiftwidth=4 \x26quot; 设置自动缩进长度为4空格 set autoindent \x26quot; 继承前一行的缩进方式，适用于多行注释 \x26quot; 定义快捷键的前缀，即\x26lt;Leader\x26gt; \x26quot; let mapleader=\x26quot;;\x26quot; \x26quot; 自定义快捷键 \x26quot; ==== 系统剪切板复制粘贴 ==== \x26quot; v 模式下复制内容到系统剪切板 vmap \x26lt;M-c\x26gt; \x26quot;\x2byy \x26quot; n 模式下复制一行到系统剪切板 nmap \x26lt;M-c\x26gt; \x26quot;\x2byy \x26quot; n 模式下粘贴系统剪切板的内容 nmap \x26lt;M-v\x26gt; \x26quot;\x2bp \x26quot; 修改默认的区域切换如ctrl\x2bw\x2bh 奇幻到左侧， 依次是 左右上下 nmap \x26lt;M-h\x26gt; \x26lt;C-w\x26gt;h nmap \x26lt;M-l\x26gt; \x26lt;C-w\x26gt;l nmap \x26lt;M-k\x26gt; \x26lt;C-w\x26gt;k nmap \x26lt;M-j\x26gt; \x26lt;C-w\x26gt;j \x26quot;开启实时搜索 set incsearch \x26quot; 搜索时大小写不敏感 set ignorecase syntax enable syntax on \x26quot; 开启文件类型侦测 filetype plugin indent on \x26quot; 启用自动补全 \x26quot; 退出插入模式指定类型的文件自动保存 au InsertLeave *.",
    "inLanguage" : "en-us",
    "author" : "smoke",
    "creator" : "smoke",
    "publisher": "smoke",
    "accountablePerson" : "smoke",
    "copyrightHolder" : "smoke",
    "copyrightYear" : "2019",
    "datePublished": "2019-12-03 13:58:19 \x2b0800 CST",
    "dateModified" : "2019-12-03 13:58:19 \x2b0800 CST",
    "url" : "\/blog\/linux\/vim\/",
    "wordCount" : "839",
    "keywords" : [  "smoke"]
}
</script>

</head>

  


<link href="/css/awesome.min.css" type="application/rss+xml" />
<script src="/js/jquery.min.js" async=""></script>
<script src="/js/autoload.js" async=""></script>

  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="">smoke</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/blog/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="">smoke</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/blog/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Vim</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="" rel="author">smoke</a> with ♥ 
                <span class="post-time">
                on <time datetime=2019-12-03 itemprop="datePublished">December 3, 2019</time>
                </span>
                in
                
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          

<h4 id="https-img-shields-io-static-v1-label-smoke-message-vim-color-red-style-for-the-badge-logo-appveyor"><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://img.shields.io/static/v1?label=smoke&amp;message=&lt;Vim&gt;&amp;color=red&amp;style=for-the-badge&amp;logo=appveyor" alt="*" class="lazyload"><figcaption class="image-caption">*</figcaption></figure></h4>

<h4 id="vim自定义模板">vim自定义模板</h4>

<p><a href="/tool/linux/doc_2019-11-27_18-35-26.vimrc">.vimrc</a></p>

<pre><code class="language-vim">&quot;##### 拷贝后保存为 .vimrc，替换到系统中

&quot;==============================================================================
&quot; 处理 Gnome 终端不能使用 alt 快捷键
&quot; 参考：http://landcareweb.com/questions/8623/altjian-kuai-jie-jian-bu-gua-yong-yu-dai-you-vimde-gnomezhong-duan
&quot;==============================================================================
let c='a'
while c &lt;= 'z'
exec &quot;set &lt;A-&quot;.c.&quot;&gt;=\e&quot;.c
exec &quot;imap \e&quot;.c.&quot; &lt;A-&quot;.c.&quot;&gt;&quot;
let c = nr2char(1+char2nr(c))
endw

set timeout ttimeoutlen=50


&quot;==============================================================================
&quot; vim 内置配置 
&quot;==============================================================================

&quot; 设置 vimrc 修改保存后立刻生效，不用在重新打开
&quot; 建议配置完成后将这个关闭，否则配置多了之后会很卡
&quot; autocmd BufWritePost $MYVIMRC source $MYVIMRC

&quot; 关闭兼容模式
set nocompatible

set number &quot; 设置绝对行号
set relativenumber &quot; 设置相对行号
set cursorline &quot;突出显示当前行
&quot; set cursorcolumn &quot; 突出显示当前列
set showmatch &quot; 显示括号匹配
set showcmd &quot; 显示未完成命令
set nowrap &quot; 设置不自动换行

&quot; tab 缩进
set tabstop=4 &quot; 设置Tab长度为4空格
set shiftwidth=4 &quot; 设置自动缩进长度为4空格
set autoindent &quot; 继承前一行的缩进方式，适用于多行注释

&quot; 定义快捷键的前缀，即&lt;Leader&gt;
&quot; let mapleader=&quot;;&quot;

&quot; 自定义快捷键

&quot; ==== 系统剪切板复制粘贴 ====
&quot; v 模式下复制内容到系统剪切板
vmap &lt;M-c&gt; &quot;+yy
&quot; n 模式下复制一行到系统剪切板
nmap &lt;M-c&gt; &quot;+yy
&quot; n 模式下粘贴系统剪切板的内容
nmap &lt;M-v&gt; &quot;+p

&quot; 修改默认的区域切换如ctrl+w+h 奇幻到左侧， 依次是 左右上下
nmap &lt;M-h&gt; &lt;C-w&gt;h
nmap &lt;M-l&gt; &lt;C-w&gt;l
nmap &lt;M-k&gt; &lt;C-w&gt;k
nmap &lt;M-j&gt; &lt;C-w&gt;j


&quot;开启实时搜索
set incsearch
&quot; 搜索时大小写不敏感
set ignorecase
syntax enable
syntax on                    &quot; 开启文件类型侦测
filetype plugin indent on    &quot; 启用自动补全

&quot; 退出插入模式指定类型的文件自动保存
au InsertLeave *.go,*.sh,*.php write


&quot;==============================================================================
&quot; 插件配置 
&quot;==============================================================================

&quot; 插件开始的位置
call plug#begin('~/.vim/plugged')

&quot; Vim 中文文档
Plug 'yianwillis/vimcdoc'

&quot; Shorthand notation; fetches https://github.com/junegunn/vim-easy-align
&quot; 可以快速对齐的插件
Plug 'junegunn/vim-easy-align'

&quot; 用来提供一个导航目录的侧边栏
Plug 'scrooloose/nerdtree'

&quot; 可以使 nerdtree Tab 标签的名称更友好些
Plug 'jistr/vim-nerdtree-tabs'

&quot; 可以在导航目录中看到 git 版本信息
Plug 'Xuyuanp/nerdtree-git-plugin'

&quot; 查看当前代码文件中的变量和函数列表的插件，
&quot; 可以切换和跳转到代码中对应的变量和函数的位置
&quot; 大纲式导航, Go 需要 https://github.com/jstemmer/gotags 支持
Plug 'majutsushi/tagbar'

&quot; 自动补全括号的插件，包括小括号，中括号，以及花括号
Plug 'jiangmiao/auto-pairs'

&quot; Vim状态栏插件，包括显示行号，列号，文件类型，文件名，以及Git状态
Plug 'vim-airline/vim-airline'

&quot; 有道词典在线翻译
Plug 'ianva/vim-youdao-translater'

&quot; 代码自动完成，安装完插件还需要额外配置才可以使用
Plug 'Valloric/YouCompleteMe'

&quot; 可以在文档中显示 git 信息
Plug 'airblade/vim-gitgutter'


&quot; 下面两个插件要配合使用，可以自动生成代码块
Plug 'SirVer/ultisnips'
Plug 'honza/vim-snippets'

&quot; 配色方案
&quot; colorscheme one 
Plug 'rakr/vim-one'
&quot; colorscheme gruvbox 
Plug 'morhetz/gruvbox'
&quot; colorscheme lucius 
Plug 'jonathanfilip/vim-lucius'
&quot; colorscheme OceanicNext
Plug 'mhartington/oceanic-next'

&quot; go 主要插件
Plug 'fatih/vim-go', { 'tag': '*' }
&quot; go 中的代码追踪，输入 gd 就可以自动跳转
Plug 'dgryski/vim-godef'

&quot; markdown 插件
Plug 'iamcco/mathjax-support-for-mkdp'
Plug 'iamcco/markdown-preview.vim'

&quot; 插件结束的位置，插件全部放在此行上面
call plug#end()


&quot;==============================================================================
&quot; 主题配色 
&quot;==============================================================================

&quot; 开启24bit的颜色，开启这个颜色会更漂亮一些
set termguicolors
&quot; 配色方案, 可以从上面插件安装中的选择一个使用 
colorscheme one &quot; 主题
set background=dark &quot; 主题背景 dark-深色; light-浅色


&quot;==============================================================================
&quot; vim-go 插件
&quot;==============================================================================
let g:go_fmt_command = &quot;goimports&quot; &quot; 格式化将默认的 gofmt 替换
let g:go_autodetect_gopath = 1
let g:go_list_type = &quot;quickfix&quot;

let g:go_version_warning = 1
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_functions = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_operators = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_methods = 1
let g:go_highlight_generate_tags = 1

let g:godef_split=2

&quot; 直接通过 go run 执行当前文件
autocmd FileType go nmap &lt;leader&gt;r :GoRun %&lt;CR&gt;


&quot;==============================================================================
&quot; NERDTree 插件
&quot;==============================================================================

&quot; 打开和关闭NERDTree快捷键
map &lt;F3&gt; :NERDTreeToggle&lt;CR&gt;
map &lt;F2&gt; :tabp&lt;CR&gt;
map &lt;F4&gt; :tabn&lt;CR&gt;
nmap &lt;F1&gt; :NERDTreeFind&lt;CR&gt;

&quot; 显示行号
let NERDTreeShowLineNumbers=1
&quot; 打开文件时是否显示目录
let NERDTreeAutoCenter=1
&quot; 是否显示隐藏文件
let NERDTreeShowHidden=0
&quot; 设置宽度
&quot; let NERDTreeWinSize=31
&quot; 忽略一下文件的显示
let NERDTreeIgnore=['\.pyc','\~$','\.swp']
&quot; 打开 vim 文件及显示书签列表
let NERDTreeShowBookmarks=2

&quot; 在终端启动vim时，共享NERDTree
let g:nerdtree_tabs_open_on_console_startup=1


&quot;==============================================================================
&quot;  majutsushi/tagbar 插件
&quot;==============================================================================

&quot; majutsushi/tagbar 插件打开关闭快捷键
nmap &lt;F9&gt; :TagbarToggle&lt;CR&gt;

let g:tagbar_type_go = {
\ 'ctagstype' : 'go',
\ 'kinds'     : [
\ 'p:package',
\ 'i:imports:1',
\ 'c:constants',
\ 'v:variables',
\ 't:types',
\ 'n:interfaces',
\ 'w:fields',
\ 'e:embedded',
\ 'm:methods',
\ 'r:constructor',
\ 'f:functions'
	\ ],
\ 'sro' : '.',
\ 'kind2scope' : {
\ 't' : 'ctype',
\ 'n' : 'ntype'
	\ },
\ 'scope2kind' : {
\ 'ctype' : 't',
\ 'ntype' : 'n'
\ },
\ 'ctagsbin'  : 'gotags',
\ 'ctagsargs' : '-sort -silent'
\ }


&quot;==============================================================================
&quot;  nerdtree-git-plugin 插件
&quot;==============================================================================
let g:NERDTreeIndicatorMapCustom = {
\ &quot;Modified&quot;  : &quot;✹&quot;,
\ &quot;Staged&quot;    : &quot;✚&quot;,
\ &quot;Untracked&quot; : &quot;✭&quot;,
\ &quot;Renamed&quot;   : &quot;➜&quot;,
\ &quot;Unmerged&quot;  : &quot;═&quot;,
\ &quot;Deleted&quot;   : &quot;✖&quot;,
\ &quot;Dirty&quot;     : &quot;✗&quot;,
\ &quot;Clean&quot;     : &quot;✔︎&quot;,
\ 'Ignored'   : '☒',
\ &quot;Unknown&quot;   : &quot;?&quot;
\ }

let g:NERDTreeShowIgnoredStatus = 1
nmap &lt;Leader&gt;pwd :NERDTreeCWD&lt;CR&gt;



&quot;==============================================================================
&quot;  Valloric/YouCompleteMe 插件
&quot;==============================================================================

&quot; make YCM compatible with UltiSnips (using supertab)
let g:ycm_key_list_select_completion = ['&lt;M-j&gt;', '&lt;DOWN&gt;']
let g:ycm_key_list_previous_completion = ['&lt;M-k&gt;', '&lt;Up&gt;']
let g:SuperTabDefaultCompletionType = '&lt;M-j&gt;'

&quot; better key bindings for UltiSnipsExpandTrigger
let g:UltiSnipsExpandTrigger = &quot;&lt;tab&gt;&quot;
let g:UltiSnipsJumpForwardTrigger = &quot;&lt;tab&gt;&quot;
let g:UltiSnipsJumpBackwardTrigger = &quot;&lt;s-tab&gt;&quot;


&quot;==============================================================================
&quot;  其他插件配置
&quot;==============================================================================

&quot; markdwon 的快捷键
map &lt;silent&gt; &lt;F5&gt; &lt;Plug&gt;MarkdownPreview
map &lt;silent&gt; &lt;F6&gt; &lt;Plug&gt;StopMarkdownPreview

&quot; tab 标签页切换快捷键
:nn &lt;Leader&gt;1 1gt
:nn &lt;Leader&gt;2 2gt
:nn &lt;Leader&gt;3 3gt
:nn &lt;Leader&gt;4 4gt
:nn &lt;Leader&gt;5 5gt
:nn &lt;Leader&gt;6 6gt
:nn &lt;Leader&gt;7 7gt
:nn &lt;Leader&gt;8 8gt
:nn &lt;Leader&gt;9 8gt
:nn &lt;Leader&gt;0 :tablast&lt;CR&gt;


&quot;==============================================================================
&quot; GVim 的配置
&quot;==============================================================================
&quot; 如果不使用 GVim ，可以不用配置下面的配置
if has('gui_running')
colorscheme one
&quot; 设置启动时窗口的大小
set lines=999 columns=999 linespace=4

&quot; 设置字体及大小
set guifont=Roboto\ Mono\ 13

set guioptions-=m &quot; 隐藏菜单栏
set guioptions-=T &quot; 隐藏工具栏
set guioptions-=L &quot; 隐藏左侧滚动条
set guioptions-=r &quot; 隐藏右侧滚动条
set guioptions-=b &quot; 隐藏底部滚动条

&quot; 在 gvim 下不会和 terminal 的 alt+数字的快捷键冲突，
&quot; 所以将 tab 切换配置一份 alt+数字的快捷键
:nn &lt;M-1&gt; 1gt
:nn &lt;M-2&gt; 2gt
:nn &lt;M-3&gt; 3gt
:nn &lt;M-4&gt; 4gt
:nn &lt;M-5&gt; 5gt
:nn &lt;M-6&gt; 6gt
:nn &lt;M-7&gt; 7gt
:nn &lt;M-8&gt; 8gt
:nn &lt;M-9&gt; 9gt
:nn &lt;M-0&gt; :tablast&lt;CR&gt;

endif


&quot;==============================================================================
&quot; 光标随着插入模式改变形状
&quot; 参考： https://vim.fandom.com/wiki/Change_cursor_shape_in_different_modes
&quot;==============================================================================
if has(&quot;autocmd&quot;)
au VimEnter,InsertLeave * silent execute '!echo -ne &quot;\e[2 q&quot;' | redraw!
au InsertEnter,InsertChange *
\ if v:insertmode == 'i' |
\   silent execute '!echo -ne &quot;\e[6 q&quot;' | redraw! |
\ elseif v:insertmode == 'r' |
\   silent execute '!echo -ne &quot;\e[4 q&quot;' | redraw! |
\ endif
au VimLeave * silent execute '!echo -ne &quot;\e[ q&quot;' | redraw!
endif


</code></pre>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>smoke </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=/blog/linux/vim/>/blog/linux/vim/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                #
            </p>
            
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="/blog/go/grpc-go-use-builder/" class="prev" rel="prev" title="Grpc Go Use Builder"><i class="iconfont icon-left"></i>&nbsp;Grpc Go Use Builder</a>
         
        
        <a href="/blog/other/markdown-style-part/" class="next" rel="next" title="Markdown Style Part">Markdown Style Part&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="">smoke</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
